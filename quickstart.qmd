---
title: "quickstart"
author: "Dhrumil Mehta"
format: 
   html: 
    output-file: "index"
    output-ext:  "html"
editor: visual
cache: false
---

## Load Data
```{r}
library(tidyverse)
polling_data <- read_csv("president_primary_polls.csv",
                         col_types=cols(end_date = col_date("%m/%d/%y")))
```

## Filter to South Carolina

```{r}
sc_polls <- polling_data %>%
  filter(state == "South Carolina") %>%
  filter(party == "REP") %>%
  filter(candidate_name == "Donald Trump")
```

## Plot

```{r}

# read dates correctly
sc_polls$end_date <- as.Date(sc_polls$end_date)

ggplot(sc_polls) +
  geom_point() +
  aes(x = end_date, y = pct) + 
  # set y axis from 0 to 100
  scale_y_continuous(limits = c(0, 100)) +
  geom_smooth() +
  labs(title = "Donald Trump's Polling in South Carolina",
       x = "Date",
       y = "Polling Percentage") + 
  theme_minimal() + 
  theme(
    # turn it sideways
    axis.text.x = element_text(angle = 90, hjust = 1)
  )
```
